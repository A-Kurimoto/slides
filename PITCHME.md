
## 土日にスパイクするサービスをサーバレスにしてかなり幸せになれた話

---

## とりあえず自己紹介

### 栗本 篤臣

* 山中を徹夜で二晩くらい走る競技が大好きです。
* ランニング関係のサービス創るお仕事してます。
* 基本エンジニアです。

https://www.facebook.com/kurimoto.atsuo

---

### ランニング関係のサービス？

* マラソン大会にエントリーした人たちが当日までの練習を競い合うアプリ

https://runnet.jp/smpapp/tatta/

（これはサーバレスじゃないです。ただのCM）

---

### サーバレスなランニング関係のサービス

* マラソン大会に参加してる家族や友人を応援するアプリ

https://runnet.jp/smpapp/ouennavi/

* マラソン大会でカメラマンが撮影した写真を、ゴールしたらすぐ完走証にして印刷するサービス

https://runphoto-plus.runnet.jp/

---

### サービス特性

* 大会ある日はドカンとアクセス
* 大会無い日はほとんど凪いでる、、
* 休日なので基本、トラブル発生するとその日のうちの対応が難しい。SLAのレベルめっさ高い

---

### EC2で作ってた時代

* 世界中から何百台とサーバ集める羽目になったり（アプリの作りの問題だけど）
* オートスケール全然間に合わなくて休日出勤して監視したり
* 改修する度に高コストな負荷試験したり

---

# そうだ、サーバレスにしよう！

---

### 主に利用しているAWSサービス

* Cognito
* API Gateway
* Lambda
* DyanmoDB
* S3
* CloudFront
* CloudWatch

---

### 今日のトピックス

* モバイルでなくともCognito
* API Gatewayの必要性
* Lambdaでデプロイ制限に引っかかった話



---

### Thank you!
